{"ast":null,"code":"import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import\"./BlogSection.css\";import IMG from\"../assets/best-psychiatrists.jpg\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BlogSection=()=>{const[blogs,setBlogs]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{axios.get(\"https://mern-blog-2-1ko4.onrender.com/blogs\").then(response=>{if(response.data&&Array.isArray(response.data)){const sortedBlogs=response.data.sort((a,b)=>{var _b$comments,_a$comments;return(b.likes||0)+(((_b$comments=b.comments)===null||_b$comments===void 0?void 0:_b$comments.length)||0)-((a.likes||0)+(((_a$comments=a.comments)===null||_a$comments===void 0?void 0:_a$comments.length)||0));});setBlogs(sortedBlogs.slice(0,2));// Show top 2 blogs\n}}).catch(error=>console.error(\"Error fetching blogs:\",error)).finally(()=>setLoading(false));},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-8 text-lg font-semibold\",children:\"Loading blogs...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row w-full h-auto md:h-[85vh]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/2 h-[50vh] md:h-[85vh] bg-cover bg-center\",style:{backgroundImage:`url(${IMG})`}}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 px-4 md:px-6 py-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center mb-6\",children:\"Latest Blogs\"}),blogs.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-6 w-full\",children:blogs.map(blog=>{var _blog$sections,_blog$sections$,_blog$comments;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg overflow-hidden transition-transform transform hover:scale-105 w-full h-auto md:h-[35vh] flex flex-col md:flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-1/2 h-[200px] md:h-full\",children:blog.image&&/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:4000${blog.image}`,alt:blog.title,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-1/2 p-4 flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mb-1\",children:[\"BY \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:blog.author}),\" |\",\" \",blog.createdAt?new Date(blog.createdAt).toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"}):\"Date not available\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold line-clamp-2\",children:blog.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-sm mt-2 line-clamp-3\",children:(_blog$sections=blog.sections)!==null&&_blog$sections!==void 0&&(_blog$sections$=_blog$sections[0])!==null&&_blog$sections$!==void 0&&_blog$sections$.paragraph?blog.sections[0].paragraph.slice(0,80)+\"...\":\"No description available.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-gray-600 text-xs mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2764\\uFE0F \",blog.likes||0,\" Likes\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCAC \",((_blog$comments=blog.comments)===null||_blog$comments===void 0?void 0:_blog$comments.length)||0,\" Comments\"]})]}),/*#__PURE__*/_jsx(Link,{to:`/blogs/${blog._id}`,className:\"text-blue-500 font-semibold mt-3 inline-block\",children:\"Read More \\u2192\"})]})]},blog._id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"No trending blogs available.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/bloglist\",className:\"bg-[#0FB8CD] text-white px-6 py-3 rounded-md shadow-md hover:bg-[#1F2F4F] transition duration-200\",children:\"Show More Blogs\"})})]});};export default BlogSection;","map":{"version":3,"names":["axios","React","useState","useEffect","Link","IMG","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BlogSection","blogs","setBlogs","loading","setLoading","get","then","response","data","Array","isArray","sortedBlogs","sort","a","b","_b$comments","_a$comments","likes","comments","length","slice","catch","error","console","finally","className","children","style","backgroundImage","map","blog","_blog$sections","_blog$sections$","_blog$comments","image","src","alt","title","author","createdAt","Date","toLocaleDateString","year","month","day","sections","paragraph","to","_id"],"sources":["C:/Users/Administrator/Desktop/mern-blog/frontend/src/components/BlogSection.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./BlogSection.css\";\r\nimport IMG from \"../assets/best-psychiatrists.jpg\";\r\n\r\nconst BlogSection = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://mern-blog-2-1ko4.onrender.com/blogs\")\r\n      .then((response) => {\r\n        if (response.data && Array.isArray(response.data)) {\r\n          const sortedBlogs = response.data.sort(\r\n            (a, b) =>\r\n              (b.likes || 0) + (b.comments?.length || 0) -\r\n              ((a.likes || 0) + (a.comments?.length || 0))\r\n          );\r\n          setBlogs(sortedBlogs.slice(0, 2)); // Show top 2 blogs\r\n        }\r\n      })\r\n      .catch((error) => console.error(\"Error fetching blogs:\", error))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center p-8 text-lg font-semibold\">Loading blogs...</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex flex-col md:flex-row w-full h-auto md:h-[85vh]\">\r\n        {/* Left Section - Background Image */}\r\n        <div\r\n          className=\"w-full md:w-1/2 h-[50vh] md:h-[85vh] bg-cover bg-center\"\r\n          style={{ backgroundImage: `url(${IMG})` }}\r\n        ></div>\r\n\r\n        {/* Right Section - Blog Content */}\r\n        <div className=\"w-full md:w-1/2 px-4 md:px-6 py-6\">\r\n          <h2 className=\"text-2xl font-bold text-center mb-6\">Latest Blogs</h2>\r\n\r\n          {blogs.length > 0 ? (\r\n            <div className=\"flex flex-col gap-6 w-full\">\r\n              {blogs.map((blog) => (\r\n                <div\r\n                  key={blog._id}\r\n                  className=\"bg-white shadow-md rounded-lg overflow-hidden transition-transform transform hover:scale-105 w-full h-auto md:h-[35vh] flex flex-col md:flex-row\"\r\n                >\r\n                  {/* Blog Image */}\r\n                  <div className=\"w-full md:w-1/2 h-[200px] md:h-full\">\r\n                    {blog.image && (\r\n                      <img\r\n                        src={`http://localhost:4000${blog.image}`}\r\n                        alt={blog.title}\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Blog Content */}\r\n                  <div className=\"w-full md:w-1/2 p-4 flex flex-col justify-between\">\r\n                    <div>\r\n                      <p className=\"text-xs text-gray-500 mb-1\">\r\n                        BY <span className=\"font-semibold\">{blog.author}</span> |{\" \"}\r\n                        {blog.createdAt\r\n                          ? new Date(blog.createdAt).toLocaleDateString(\"en-US\", {\r\n                              year: \"numeric\",\r\n                              month: \"short\",\r\n                              day: \"numeric\",\r\n                            })\r\n                          : \"Date not available\"}\r\n                      </p>\r\n\r\n                      <h1 className=\"text-lg font-semibold line-clamp-2\">{blog.title}</h1>\r\n                      <p className=\"text-gray-700 text-sm mt-2 line-clamp-3\">\r\n                        {blog.sections?.[0]?.paragraph\r\n                          ? blog.sections[0].paragraph.slice(0, 80) + \"...\"\r\n                          : \"No description available.\"}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Likes, Comments, and Read More */}\r\n                    <div className=\"flex justify-between items-center text-gray-600 text-xs mt-2\">\r\n                      <p>‚ù§Ô∏è {blog.likes || 0} Likes</p>\r\n                      <p>üí¨ {blog.comments?.length || 0} Comments</p>\r\n                    </div>\r\n\r\n                    <Link\r\n                      to={`/blogs/${blog._id}`}\r\n                      className=\"text-blue-500 font-semibold mt-3 inline-block\"\r\n                    >\r\n                      Read More ‚Üí\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-center text-gray-600\">No trending blogs available.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Show More Blogs Button OUTSIDE the container */}\r\n      <div className=\"flex justify-center mt-6\">\r\n        <Link\r\n          to=\"/bloglist\"\r\n          className=\"bg-[#0FB8CD] text-white px-6 py-3 rounded-md shadow-md hover:bg-[#1F2F4F] transition duration-200\"\r\n        >\r\n          Show More Blogs\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlogSection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}